# 故障排查指南

## 常见问题及解决方案

### 1. WXML编译错误

**问题**：`unexpected character` 错误

**原因**：WXML中某些特殊字符需要转义或使用不同的写法

**解决方案**：
- 避免在text标签内容开头使用 `/` 字符
- 使用 `人/天` 而不是 `/人/天`
- 清除微信开发者工具缓存并重新编译

**清除缓存步骤**：
1. 微信开发者工具 → 工具 → 清除缓存
2. 重新编译项目
3. 如果问题仍然存在，关闭并重新打开项目

### 2. 页面找不到错误

**问题**：`page "pages/login/login" is not found`

**原因**：页面未在 `app.json` 中注册

**解决方案**：
- 确保页面路径在 `app.json` 的 `pages` 数组中
- 检查页面文件是否存在（`.ts`, `.wxml`, `.wxss`, `.json`）
- 清除缓存并重新编译

### 3. 跳转失败

**问题**：`navigateTo:fail timeout` 或 `reLaunch:fail`

**原因**：
- subPackage路径不正确
- 页面未正确注册
- 网络或性能问题

**解决方案**：
- 检查 `app.json` 中的 subPackage 配置
- 确保页面路径正确（相对于subPackage root）
- 使用 `reLaunch` 而不是 `navigateTo` 跳转到subPackage页面

### 4. 代码更新不生效

**问题**：修改代码后，小程序中仍然显示旧代码

**解决方案**：
1. **清除缓存**：
   - 微信开发者工具 → 工具 → 清除缓存
   - 清除所有缓存（包括文件缓存）

2. **重新编译**：
   - 点击"编译"按钮
   - 或使用快捷键 Ctrl+R (Windows) / Cmd+R (Mac)

3. **检查文件保存**：
   - 确保文件已保存（Ctrl+S）
   - 检查文件修改时间

4. **重启开发者工具**：
   - 完全关闭微信开发者工具
   - 重新打开项目

5. **检查编译输出**：
   - 查看控制台是否有编译错误
   - 检查是否有文件路径错误

### 5. 热重载问题

**问题**：自动热重载不工作

**解决方案**：
- 检查是否启用了"自动热重载"
- 手动点击"编译"按钮
- 如果问题持续，禁用并重新启用热重载

## 调试技巧

### 1. 查看控制台日志
- 打开微信开发者工具的控制台
- 查看错误信息和警告
- 检查网络请求是否成功

### 2. 检查文件路径
- 确保所有文件路径正确
- 检查 `app.json` 中的页面配置
- 验证 subPackage 路径

### 3. 验证文件完整性
- 确保每个页面都有 `.ts`, `.wxml`, `.wxss`, `.json` 文件
- 检查文件内容是否正确

### 4. 使用调试工具
- 使用微信开发者工具的调试功能
- 检查页面数据是否正确
- 验证事件绑定是否正常

## 快速修复步骤

如果遇到问题，按以下步骤操作：

1. **保存所有文件** (Ctrl+S / Cmd+S)
2. **清除缓存** (工具 → 清除缓存)
3. **重新编译** (点击编译按钮)
4. **检查控制台** (查看是否有错误)
5. **重启工具** (如果问题仍然存在)

## 联系支持

如果问题仍然无法解决，请：
1. 记录详细的错误信息
2. 截图错误提示
3. 检查相关文件内容
4. 查看项目日志

