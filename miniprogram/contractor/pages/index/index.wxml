<view class="container">
  <view class="header">
    <view class="user-info" wx:if="{{userInfo}}">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="user-details">
        <text class="nickname">{{userInfo.nickName}}</text>
        <text class="role">å·¥å¤´</text>
      </view>
    </view>
  </view>

  <!-- æ•°æ®æ¦‚è§ˆ -->
  <view class="stats-section">
    <view class="stat-item" bindtap="viewOrderList">
      <text class="stat-value">{{stats.pendingQuotesCount}}</text>
      <text class="stat-label">å¾…æŠ¥ä»·</text>
    </view>
    <view class="stat-item" bindtap="viewOrderDetail">
      <text class="stat-value">{{stats.inProgressCount}}</text>
      <text class="stat-label">è¿›è¡Œä¸­</text>
    </view>
    <view class="stat-item" bindtap="viewTeam">
      <text class="stat-value">{{stats.teamSize}}</text>
      <text class="stat-label">å›¢é˜Ÿæˆå‘˜</text>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="quick-actions">
    <view class="action-item" bindtap="viewOrderList">
      <view class="action-icon">ğŸ“‹</view>
      <text class="action-text">éœ€æ±‚å¹¿åœº</text>
    </view>
    <view class="action-item" bindtap="viewTeam">
      <view class="action-icon">ğŸ‘¥</view>
      <text class="action-text">å›¢é˜Ÿç®¡ç†</text>
    </view>
  </view>

  <!-- å¾…æŠ¥ä»·è®¢å• -->
  <view class="section">
    <view class="section-title">å¾…æŠ¥ä»·è®¢å•</view>
    <view class="order-list">
      <view
        class="order-item"
        wx:for="{{pendingQuotes}}"
        wx:key="_id"
        bindtap="viewOrderDetail"
        data-order-id="{{item._id}}"
      >
        <view class="order-header">
          <text class="order-job">{{item.jobType}}</text>
          <text class="order-status pending">å¾…æŠ¥ä»·</text>
        </view>
        <view class="order-info">
          <text class="order-location">{{item.location.address}}</text>
        </view>
        <view class="order-actions">
          <button class="btn-quote" size="mini" catchtap="startQuote" data-order-id="{{item._id}}">
            ç«‹å³æŠ¥ä»·
          </button>
        </view>
      </view>
      <view class="empty" wx:if="{{pendingQuotes.length === 0}}">
        æš‚æ— å¾…æŠ¥ä»·è®¢å•
      </view>
    </view>
  </view>

  <!-- æˆ‘çš„è®¢å• -->
  <view class="section">
    <view class="section-title">æˆ‘çš„è®¢å•</view>
    <view class="order-list">
      <view
        class="order-item"
        wx:for="{{myOrders}}"
        wx:key="_id"
        bindtap="viewOrderDetail"
        data-order-id="{{item._id}}"
      >
        <view class="order-header">
          <text class="order-job">{{item.jobType}}</text>
          <text class="order-status {{item.status}}">{{item.status}}</text>
        </view>
        <view class="order-info">
          <text class="order-location">{{item.location.address}}</text>
        </view>
      </view>
      <view class="empty" wx:if="{{myOrders.length === 0}}">
        æš‚æ— è®¢å•
      </view>
    </view>
  </view>
</view>

